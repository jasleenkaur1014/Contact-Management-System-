<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ContactSnap Dashboard</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
      crossorigin="anonymous"
    />

    <link rel="stylesheet" href="styles/dashboard-styles.css" />
  </head>
  <body class="bg-info-subtle">
    <nav
      id="navbar"
      class="navbar navbar-expand-lg navbar-dark bg-dark bg-gradient px-3"
    >
      <div class="nav-left navbar-brand d-flex align-items-center">
        <img
          src="https://www.shutterstock.com/image-vector/cs-logo-design-simple-modern-260nw-2596322969.jpg"
          alt="ContactSnap logo"
          width="40"
          height="40"
          class="me-2 rounded app-logo"
        />
        <p class="app-name mt-2">ContactSnap</p>
      </div>
      <div class="nav-right ms-auto d-flex align-items-center gap-2">
        <span id="user-name" class="text-white"></span>
        <!-- Visible only when user is logged in -->
        <button id="logout" class="btn btn-danger" aria-label="Logout">
          Logout
        </button>

        <!-- Visible only when user is logged out -->
        <button id="login" class="btn btn-outline-light btn-sm d-none">
          Login
        </button>
      </div>
    </nav>

    <main class="container my-4">
      <!-- STATS SECTION -->
      <div class="row g-3 mb-4">
        <div class="col-md-3">
          <div class="card text-center shadow-sm">
            <div class="card-body">
              <h6 class="text-muted">Total Contacts</h6>
              <h3 class="fw-bold" id="total-contacts">0</h3>
            </div>
          </div>
        </div>

        <div class="col-md-3">
          <div class="card shadow-sm">
            <div class="card-body">
              <h6 class="text-muted">Categories</h6>
              <div id="category-list"></div>
              <small class="cat-err err" id="cat-err"></small>
            </div>
          </div>
        </div>

        <div class="col-md-3">
          <div class="card shadow-sm">
            <div class="card-body">
              <h6 class="text-muted">Recently Added</h6>
              <ul class="list-group list-group-flush" id="recent-list"></ul>
              <small class="recent-err err" id="recent-err"></small>
            </div>
          </div>
        </div>

        <div class="col-md-3 d-flex align-items-center">
          <button class="btn btn-primary w-100 py-3" id="add-new-btn">
            + Add Contact
          </button>
        </div>
      </div>

      <section id="main-contacts">
        <div class="card shadow-sm mb-3">
          <div class="card-body">
            <div class="row g-3 align-items-end">
              <!-- Category -->
              <div class="col-md-4">
                <label class="form-label">Category</label>
                <select class="form-select" id="categories">
                  <option value="">All</option>
                  <option value="friends">Friends</option>
                  <option value="family">Family</option>
                  <option value="work">Work</option>
                </select>
              </div>

              <!-- Search -->
              <div class="col-md-5">
                <label class="form-label">Search</label>
                <input
                  type="text"
                  class="form-control"
                  id="search"
                  placeholder="Search by name, email..."
                  aria-label="Search contacts"
                />
              </div>

              <!-- Button -->
              <div class="col-md-3 d-grid">
                <button class="btn btn-secondary" id="filter-contact-btn">
                  Apply
                </button>
              </div>
            </div>
          </div>
        </div>

        <div class="table-responsive">
          <table
            id="contact-table"
            class="table table-striped table-hover align-middle"
          >
            <thead class="table-dark">
              <tr>
                <th>Name</th>
                <th>Phone</th>
                <th>Category</th>
                <th>Actions</th>
              </tr>
            </thead>

            <tbody id="table-body"></tbody>
          </table>
        </div>

        <p id="empty-message" class="text-center text-muted my-3 d-none msg">
          No contacts found.
        </p>

        <p id="kindly-login-msg" class="text-center text-muted my-3 msg">
          Kindly login to view your contacts!
        </p>

        <small class="error-text" id="error-dashboard"></small>

        <div
          id="pagination"
          class="d-flex mt-3 align-items-center justify-content-between d-none"
        >
          <button id="prev" disabled class="btn btn-outline-secondary btn-sm">
            Prev
          </button>
          <span id="page-info" class="text-muted">1</span>
          <button id="next" class="btn btn-outline-secondary btn-sm">
            Next
          </button>
        </div>
      </section>
    </main>

    <script src="scripts/config.js"></script>
    <script src="scripts/dashboard-script.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
